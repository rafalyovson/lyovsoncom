/* ============================================
   Lyovson.com Admin — Brand Theme Overrides

   Strategy: Override Payload's --color-base-* source palette
   with cool slate OKLch values. Payload's --theme-elevation-*
   mappings and dark mode inversion work automatically.

   Specificity: Payload uses @layer payload-default;
   this file is unlayered, so overrides win via cascade.

   Structure:
   1. Font import
   2. Root tokens (palette + font stacks)
   3. Global polish (selection, scrollbar, focus rings)
   4. Login — glass treatment
   5. Dashboard — glass cards
   6. Nav sidebar
   7. Buttons & forms
   8. Accessibility
   ============================================ */

/* === 1. Font Import === */
@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,400;0,500;0,600;1,400&family=IBM+Plex+Mono:wght@400;500&display=swap');

/* === 2. Root Tokens === */

/* Brand Slate Base Palette */
:root {
  --font-body: 'IBM Plex Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-mono: 'IBM Plex Mono', ui-monospace, SFMono-Regular, Consolas, monospace;

  --color-base-0:    oklch(0.985 0.004 230);
  --color-base-50:   oklch(0.960 0.008 228);
  --color-base-100:  oklch(0.935 0.012 226);
  --color-base-150:  oklch(0.900 0.014 226);
  --color-base-200:  oklch(0.860 0.015 228);
  --color-base-250:  oklch(0.810 0.016 230);
  --color-base-300:  oklch(0.760 0.016 232);
  --color-base-350:  oklch(0.700 0.016 234);
  --color-base-400:  oklch(0.640 0.015 235);
  --color-base-450:  oklch(0.580 0.014 236);
  --color-base-500:  oklch(0.520 0.014 237);
  --color-base-550:  oklch(0.470 0.015 237);
  --color-base-600:  oklch(0.420 0.016 238);
  --color-base-650:  oklch(0.370 0.016 238);
  --color-base-700:  oklch(0.320 0.016 238);
  --color-base-750:  oklch(0.275 0.015 240);
  --color-base-800:  oklch(0.230 0.014 240);
  --color-base-850:  oklch(0.185 0.013 242);
  --color-base-900:  oklch(0.145 0.012 242);
  --color-base-950:  oklch(0.100 0.010 244);
  --color-base-1000: oklch(0.060 0.008 244);
}

/* Brand Cyan Accent Palette */
:root {
  --color-success-50:  oklch(0.970 0.020 236);
  --color-success-100: oklch(0.940 0.040 238);
  --color-success-150: oklch(0.905 0.060 240);
  --color-success-200: oklch(0.870 0.080 240);
  --color-success-250: oklch(0.830 0.095 241);
  --color-success-300: oklch(0.785 0.110 241);
  --color-success-350: oklch(0.735 0.120 242);
  --color-success-400: oklch(0.680 0.132 242);
  --color-success-450: oklch(0.620 0.140 242);
  --color-success-500: oklch(0.560 0.145 242);
  --color-success-550: oklch(0.520 0.145 242);
  --color-success-600: oklch(0.475 0.135 242);
  --color-success-650: oklch(0.430 0.125 243);
  --color-success-700: oklch(0.385 0.110 243);
  --color-success-750: oklch(0.340 0.095 244);
  --color-success-800: oklch(0.295 0.080 244);
  --color-success-850: oklch(0.250 0.065 244);
  --color-success-900: oklch(0.205 0.050 245);
  --color-success-950: oklch(0.160 0.035 246);

  /* Blue mirrors success (Payload uses both interchangeably) */
  --color-blue-50:  var(--color-success-50);
  --color-blue-100: var(--color-success-100);
  --color-blue-150: var(--color-success-150);
  --color-blue-200: var(--color-success-200);
  --color-blue-250: var(--color-success-250);
  --color-blue-300: var(--color-success-300);
  --color-blue-350: var(--color-success-350);
  --color-blue-400: var(--color-success-400);
  --color-blue-450: var(--color-success-450);
  --color-blue-500: var(--color-success-500);
  --color-blue-550: var(--color-success-550);
  --color-blue-600: var(--color-success-600);
  --color-blue-650: var(--color-success-650);
  --color-blue-700: var(--color-success-700);
  --color-blue-750: var(--color-success-750);
  --color-blue-800: var(--color-success-800);
  --color-blue-850: var(--color-success-850);
  --color-blue-900: var(--color-success-900);
  --color-blue-950: var(--color-success-950);
}

/* Mono font for code contexts (Payload already applies --font-body to body) */
code,
pre,
.code-field,
.rich-text code {
  font-family: var(--font-mono);
}

/* === 3. Global Polish === */

/* Text selection — brand cyan tint */
::selection {
  background: oklch(0.52 0.145 242 / 0.25);
  color: inherit;
}

[data-theme="dark"] ::selection {
  background: oklch(0.73 0.13 236 / 0.3);
}

/* Subtle branded scrollbar (WebKit) */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--theme-elevation-250);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--theme-elevation-350);
}

/* Focus rings — brand cyan */
*:focus-visible {
  outline: 2px solid oklch(0.52 0.145 242 / 0.6);
  outline-offset: 2px;
}

[data-theme="dark"] *:focus-visible {
  outline-color: oklch(0.73 0.13 236 / 0.6);
}

/* === 4. Login — Glass Treatment === */

/* Aurora gradient background */
.template-minimal {
  background: linear-gradient(
    168deg,
    var(--theme-elevation-0) 0%,
    oklch(0.96 0.013 222 / 0.6) 35%,
    oklch(0.94 0.024 210 / 0.4) 65%,
    var(--theme-elevation-50) 100%
  );
  min-height: 100vh;
}

[data-theme="dark"] .template-minimal {
  background: linear-gradient(
    168deg,
    var(--theme-elevation-0) 0%,
    oklch(0.14 0.02 226 / 0.8) 35%,
    oklch(0.18 0.03 194 / 0.5) 65%,
    var(--theme-elevation-50) 100%
  );
}

/* Glass card — login content wrapper */
.template-minimal__wrap {
  background: oklch(0.958 0.016 226 / 0.58);
  border: 1px solid oklch(0.86 0.028 216 / 0.42);
  border-radius: 12px;
  box-shadow:
    0 8px 20px oklch(0.42 0.02 240 / 0.14),
    0 2px 6px oklch(0.42 0.02 240 / 0.09),
    inset 0 1px 0 oklch(1 0 0 / 0.52),
    inset 0 -1px 0 oklch(0.44 0.02 236 / 0.2);
  backdrop-filter: blur(11px) saturate(132%);
  -webkit-backdrop-filter: blur(11px) saturate(132%);
  padding: calc(var(--base) * 2);
  transition:
    box-shadow 240ms cubic-bezier(0.25, 0.46, 0.45, 0.94),
    border-color 240ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

[data-theme="dark"] .template-minimal__wrap {
  background: oklch(0.74 0.028 224 / 0.14);
  border-color: oklch(0.86 0.022 220 / 0.32);
  box-shadow:
    0 8px 22px oklch(0 0 0 / 0.36),
    0 2px 7px oklch(0 0 0 / 0.2),
    inset 0 1px 0 oklch(1 0 0 / 0.06),
    inset 0 -1px 0 oklch(0 0 0 / 0.15);
  backdrop-filter: blur(11px) saturate(132%) brightness(112%);
  -webkit-backdrop-filter: blur(11px) saturate(132%) brightness(112%);
}

/* === 5. Dashboard — Glass Cards === */

/* Softer glass for workspace cards */
.modular-dashboard .card {
  background: oklch(0.958 0.016 226 / 0.42);
  border: 1px solid oklch(0.86 0.028 216 / 0.32);
  border-radius: 8px;
  box-shadow:
    0 4px 12px oklch(0.42 0.02 240 / 0.1),
    0 1px 4px oklch(0.42 0.02 240 / 0.06),
    inset 0 1px 0 oklch(1 0 0 / 0.38);
  backdrop-filter: blur(8px) saturate(125%);
  -webkit-backdrop-filter: blur(8px) saturate(125%);
  transition:
    transform 240ms cubic-bezier(0.25, 0.46, 0.45, 0.94),
    box-shadow 240ms cubic-bezier(0.25, 0.46, 0.45, 0.94),
    border-color 240ms cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.modular-dashboard .card:hover {
  transform: translateY(-1px);
  border-color: oklch(0.8 0.038 198 / 0.52);
  box-shadow:
    0 8px 20px oklch(0.42 0.02 240 / 0.16),
    0 2px 6px oklch(0.42 0.02 240 / 0.1),
    inset 0 1px 0 oklch(1 0 0 / 0.48),
    0 0 16px oklch(0.72 0.1 228 / 0.08);
}

[data-theme="dark"] .modular-dashboard .card {
  background: oklch(0.74 0.028 224 / 0.1);
  border-color: oklch(0.86 0.022 220 / 0.22);
  box-shadow:
    0 4px 14px oklch(0 0 0 / 0.28),
    0 1px 5px oklch(0 0 0 / 0.16),
    inset 0 1px 0 oklch(1 0 0 / 0.04);
  backdrop-filter: blur(8px) saturate(125%) brightness(108%);
  -webkit-backdrop-filter: blur(8px) saturate(125%) brightness(108%);
}

[data-theme="dark"] .modular-dashboard .card:hover {
  border-color: oklch(0.89 0.026 194 / 0.36);
  box-shadow:
    0 8px 22px oklch(0 0 0 / 0.38),
    0 2px 7px oklch(0 0 0 / 0.22),
    inset 0 1px 0 oklch(1 0 0 / 0.07),
    0 0 18px oklch(0.75 0.09 220 / 0.1);
}

/* === 6. Nav Sidebar === */

.nav {
  border-right-color: var(--theme-elevation-100);
}

/* Group headers */
.nav-group__toggle {
  font-weight: 500;
  letter-spacing: -0.01em;
}

/* === 7. Buttons & Forms === */

/* Buttons — consistent radius + micro-interactions */
.btn {
  border-radius: 6px;
  transition:
    background-color 150ms ease,
    box-shadow 150ms ease,
    transform 150ms ease;
}

.btn--style-primary:hover {
  transform: translateY(-0.5px);
}

.btn--style-primary:active {
  transform: translateY(0);
}

/* Form fields — consistent radius + smooth focus */
.field-type input,
.field-type textarea,
.field-type select {
  border-radius: 6px;
  transition:
    border-color 150ms ease,
    box-shadow 150ms ease;
}

/* === 8. Accessibility === */

/* Respect user motion preferences */
@media (prefers-reduced-motion: reduce) {
  .template-minimal__wrap,
  .modular-dashboard .card,
  .btn,
  .field-type input,
  .field-type textarea,
  .field-type select {
    transition: none !important;
  }
}

/* Respect user transparency preferences */
@media (prefers-reduced-transparency: reduce) {
  .template-minimal__wrap {
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    background: var(--theme-elevation-50);
  }

  .modular-dashboard .card {
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    background: var(--theme-elevation-50);
  }
}

/* Fallback for browsers without backdrop-filter support */
@supports not ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))) {
  .template-minimal__wrap {
    background: var(--theme-elevation-50);
  }

  .modular-dashboard .card {
    background: var(--theme-elevation-50);
  }
}
